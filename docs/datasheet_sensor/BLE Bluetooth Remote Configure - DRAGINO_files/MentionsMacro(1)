require.config({paths:{"xwiki-suggestUsers":"/xwiki/bin/skin/resources/uicomponents/suggest/suggestUsersAndGroups.min.js?cache-version\x3d1648720710000"}});
require(["deferred!ckeditor","xwiki-suggestUsers","jquery","xwiki-meta"],function(h,k,p,q){const l=function(c,d){k.loadUsers("GLOBAL_ONLY",{input:c,limit:6}).then(b=>{b=b.map(function(a){a.id=a.value;a.icon.cssClass?(a.imgClass="hidden",a.cssClass=a.icon.cssClass):(a.imgUrl=a.icon.url,a.cssClass="hidden",a.imgClass="");a.iconHtml;return a});d(b)})};h.then(c=>{function d(b){return{feed:function(a,e){l(a.query,e)},marker:"@",minChars:0,itemsLimit:6,itemTemplate:'\x3cli data-id\x3d"{id}" class\x3d"ckeditor-autocomplete-item"\x3e\n            \x3cdiv\x3e\n              \x3cspan class\x3d"ckeditor-autocomplete-item-icon-wrapper"\x3e\n                \x3cspan class\x3d"{cssClass}"\x3e\x3c/span\x3e\n                \x3cimg src\x3d"{imgUrl}" class\x3d"{imgClass}"/\x3e\n              \x3c/span\x3e\n              \x3cspan class\x3d"ckeditor-autocomplete-item-label"\x3e{label}\x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/li\x3e',
outputTemplate:function(a){b.once("afterInsertHtml",function(){var e=b.execCommand,m=a.id;const n=a.id.replace(/[.:]/g,"-");var f=46656*Math.random()|0,g=46656*Math.random()|0;f=("000"+f.toString(36)).slice(-3);g=("000"+g.toString(36)).slice(-3);e.call(b,"xwiki-macro-insert",{name:"mention",inline:"enforce",parameters:{reference:m,style:"FULL_NAME",anchor:n+"-"+(f+g)}})});return""}}}c.on("instanceCreated",function(b){b.editor.once("configLoaded",function(a){a=a.editor;a.config.mentions=a.config.mentions||
[];a.config.mentions.push(d(a))})})})});